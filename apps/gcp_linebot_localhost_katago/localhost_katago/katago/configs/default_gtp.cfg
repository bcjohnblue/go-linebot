# Configuration for KataGo C++ GTP engine

# Run the program using: `./katago.exe gtp`

# In this example config, when a parameter is given as a commented out value,
# that value also is the default value, unless described otherwise. You can
# uncomment it (remove the pound sign) and change it if you want.

# ===========================================================================
# Running on an online server or in a real tournament or match
# ===========================================================================
# If you plan to run online or in a tournament, read through the "Rules"
# section below for proper handling of komi, handicaps, end-of-game cleanup,
# and other details.

# ===========================================================================
# Notes about performance and memory usage
# ===========================================================================
# Important: For good performance, you will very likely want to tune the
# "numSearchThreads" parameter in the Search limits section below! Run
# "./katago benchmark" to test KataGo and to suggest a reasonable value
# of this parameter.

# For multi-GPU systems, read "OpenCL GPU settings" or "CUDA GPU settings".
#
# When using OpenCL, verify that KataGo picks the correct device! Some systems
# may have both an Intel CPU OpenCL and GPU OpenCL. If # KataGo picks the wrong
# one, correct this by specifying "openclGpuToUse".
#
# Consider adjusting "maxVisits", "ponderingEnabled", "resignThreshold", and
# other parameters depending on your intended usage.

# ===========================================================================
# Command-line usage
# ===========================================================================
# All of the below values may be set or overridden via command-line arguments:
#
# -override-config KEY=VALUE,KEY=VALUE,...

# ===========================================================================
# Logs and files
# ===========================================================================
# This section defines where and what logging information is produced.

# Each run of KataGo will log to a separate file in this dir.
# This is the default.
logDir = gtp_logs
# Uncomment and specify this instead of logDir to write separate dated subdirs
# logDirDated = gtp_logs
# Uncomment and specify this instead of logDir to log to only a single file
# logFile = gtp.log

# Logging options
logAllGTPCommunication = true
logSearchInfo = true
logSearchInfoForChosenMove = false
logToStderr = false

# KataGo will display some info to stderr on GTP startup
# Uncomment the next line and set it to false to suppress that and remain silent
# startupPrintMessageToStderr = true

# Write information to stderr, for use in things like malkovich chat to OGS.
# ogsChatToStderr = false

# Uncomment and set this to a directory to override where openCLTuner files
# and other cached data is written. By default it saves into a subdir of the
# current directory on windows, and a subdir of ~/.katago on Linux.
# homeDataDir = PATH_TO_DIRECTORY

# ===========================================================================
# Analysis
# ===========================================================================
# This section configures analysis settings.
#
# The maximum number of moves after the first move displayed in variations
# from analysis commands like kata-analyze or lz-analyze.
# analysisPVLen = 15

# Report winrates for chat and analysis as (BLACK|WHITE|SIDETOMOVE).
# Most GUIs and analysis tools will expect SIDETOMOVE.
# reportAnalysisWinratesAs = SIDETOMOVE

# Extra noise for wider exploration. Large values will force KataGo to
# analyze a greater variety of moves than it normally would.
# An extreme value like 1 distributes playouts across every move on the board,
# even very bad moves.
# Affects analysis only, does not affect play.
# analysisWideRootNoise = 0.04

# Try to limit the effect of possible bad or bogus move sequences in the
# history leading to this position from affecting KataGo's move predictions.
# analysisIgnorePreRootHistory = true

# ===========================================================================
# Rules
# ===========================================================================
# This section configures the scoring and playing rules. Rules can also be
# changed mid-run by issuing custom GTP commands.
#
# See https://lightvector.github.io/KataGo/rules.html for rules details.
#
# See https://github.com/lightvector/KataGo/blob/master/docs/GTP_Extensions.md
# for GTP commands.

# Specify the rules as a string.
# Some legal values include:
#   chinese, japanese, korean, aga, chinese-ogs, new-zealand, stone-scoring,
#   ancient-territory, bga, aga-button
#
# For some human rulesets that require complex adjudication in tricky cases
# (e.g. japanese, korean) KataGo may not precisely match the ruleset in such
# cases but will do its best.
rules = tromp-taylor

# By default, the "rules" parameter is used, but if you comment it out and
# uncomment one option in each of the sections below, you can specify an
# arbitrary combination of individual rules.

# koRule = SIMPLE       # Simple ko rules (triple ko = no result)
# koRule = POSITIONAL   # Positional superko
# koRule = SITUATIONAL  # Situational superko

# scoringRule = AREA       # Area scoring
# scoringRule = TERRITORY  # Territory scoring (special computer-friendly territory rules)

# taxRule = NONE  # All surrounded empty points are scored
# taxRule = SEKI  # Eyes in seki do NOT count as points
# taxRule = ALL   # All groups are taxed up to 2 points for the two eyes needed to live

# Is multiple-stone suicide legal? (Single-stone suicide is always illegal).
# multiStoneSuicideLegal = false
# multiStoneSuicideLegal = true

# "Button go" - the first pass when area scoring awards 0.5 points and does
# not count for ending the game.
# Allows area scoring rulesets that have far simpler rules to achieve the same
# final scoring precision and reward for precise play as territory scoring.
# hasButton = false
# hasButton = true

# Is this a human ruleset where it's okay to pass before having physically
# captured and removed all dead stones?
# friendlyPassOk = false
# friendlyPassOk = true

# How handicap stones in handicap games are compensated
# whiteHandicapBonus = 0    # White gets no compensation for black's handicap stones (Tromp-taylor, NZ, JP)
# whiteHandicapBonus = N-1  # White gets N-1 points for black's N handicap stones (AGA)

# ===========================================================================
# Board size and komi
# ===========================================================================
# Default board size. Can be changed mid-run via GTP commands.
# boardSize = 19

# Default komi. Can be changed mid-run via GTP commands.
# komi = 7.5

# ===========================================================================
# Resignation
# ===========================================================================
# Resign when winrate is below this threshold. Set to negative to disable.
# resignThreshold = -1
# resignThreshold = 0.01

# Resign only if winrate is below threshold AND the score is below this threshold.
# Set to negative to disable.
# resignMinScoreDifference = -1

# Resign only if winrate is below threshold AND the score is below this threshold
# AND the number of visits is at least this many. Set to 0 to disable.
# resignMinPlayouts = 0

# Allow resignation in GTP play. If false, KataGo will never resign.
allowResignation = false

# ===========================================================================
# Search limits
# ===========================================================================
# Maximum number of playouts per move. If you also set maxTime, KataGo will
# stop when it reaches either limit.
maxVisits = 400

# Maximum time per move in seconds. If you also set maxVisits, KataGo will
# stop when it reaches either limit.
maxTime = 10.0

# Maximum number of playouts per move when pondering (thinking during opponent's turn).
# If you also set maxTimePondering, KataGo will stop when it reaches either limit.
# maxVisitsPondering = 5000

# Maximum time per move when pondering in seconds. If you also set maxVisitsPondering,
# KataGo will stop when it reaches either limit.
maxTimePondering = 60.0

# ===========================================================================
# Threading and batching
# ===========================================================================
# Number of threads to use for search. Each thread will run one playout at a time.
# On a machine with many cores, you may want to increase this.
# On a machine with few cores, you may want to decrease this.
# For best performance, this should be roughly equal to the number of CPU cores
# you want KataGo to use, but you can experiment.
numSearchThreads = 32

# Number of positions to search in parallel per thread. Increasing this may help
# GPU utilization. If you are CPU-bound, you may want to decrease this.
# numVirtualLossesPerThread = 1

# ===========================================================================
# GPU settings
# ===========================================================================
# For OpenCL, specify which GPU to use. Leave commented to let KataGo auto-detect,
# or set to the name of the device as reported by KataGo.
# openclGpuToUse = 0

# For CUDA, specify which GPU to use. Leave commented to let KataGo auto-detect,
# or set to the device number (0, 1, 2, etc.)
# cudaGpuToUse = 0

# For CUDA, optionally specify a tensor core mode. Options:
#   "none" - Do not use tensor cores
#   "fp16" - Use fp16 tensor cores (requires GPU with tensor cores, like V100, RTX series)
#   "fp16-tc" - Use fp16 tensor cores with automatic loss scaling (experimental)
# cudaUseFP16 = none
# cudaUseFP16 = fp16
# cudaUseFP16 = fp16-tc

# For OpenCL, optionally specify a tuning file to use. This can help performance
# on some GPUs. KataGo will try to auto-detect a reasonable tuning file, but
# you can override it here.
# openclTuningFile = PATH_TO_TUNING_FILE

# ===========================================================================
# Neural net settings
# ===========================================================================
# The neural net model file to use. This is required.
# modelFile = g170-b30c320x2-s4824661760-d1229536699.bin.gz
# modelFile = g170e-b20c256x2-s5303129603-d1228401921.bin.gz

# If the model file is a .bin.gz file, KataGo will automatically decompress it
# to a .bin file in the same directory the first time it runs. The .bin file
# will be used on subsequent runs.

# ===========================================================================
# MCTS and search behavior
# ===========================================================================
# How much to scale the utility (winrate) of the root node when applying
# temperature. Higher values make KataGo play more randomly/exploratively.
# rootPolicyTemperature = 1.0
# rootPolicyTemperature = 1.5
# rootPolicyTemperature = 2.0

# How much to scale the utility (winrate) of non-root nodes when applying
# temperature. Higher values make KataGo play more randomly/exploratively.
# rootPolicyTemperatureEarly = 1.3
# rootPolicyTemperatureEarly = 1.5

# How many moves into the game to apply rootPolicyTemperatureEarly instead of
# rootPolicyTemperature.
# rootPolicyTemperatureEarlyMove = 0
# rootPolicyTemperatureEarlyMove = 30

# How much to scale the utility (winrate) when applying temperature during
# analysis (kata-analyze, lz-analyze). This does NOT affect play.
# rootPolicyTemperatureAnalysis = 1.0

# How much to prefer moves with higher prior probability (policy) during search.
# Higher values make KataGo play more "confidently" in positions it thinks are good.
# Lower values make KataGo explore more.
# cpuctExploration = 1.0
# cpuctExploration = 2.0
# cpuctExploration = 3.0

# How much to prefer moves with higher prior probability (policy) at the root.
# Higher values make KataGo play more "confidently" in positions it thinks are good.
# Lower values make KataGo explore more.
# cpuctExplorationLog = 0.45
# cpuctExplorationLog = 0.90

# How much to weight the utility (winrate) vs the prior probability (policy)
# when selecting moves during search. Higher values favor winrate more.
# fpuReductionMax = 0.2
# fpuReductionMax = 0.4

# How much to reduce the utility (winrate) of unvisited moves during search.
# Higher values make KataGo explore more.
# fpuReductionMax = 0.2
# fpuReductionMax = 0.4

# Value of unvisited moves before any playouts, as a fraction of the parent's value.
# fpuValue = 0.0
# fpuValue = -0.25

# How much to weight recent visits vs all visits when updating node values.
# Higher values make KataGo adapt more quickly to new information.
# valueWeightExponent = 0.25
# valueWeightExponent = 0.5

# ===========================================================================
# Time management
# ===========================================================================
# If using time controls, how much time to reserve for byo-yomi periods.
# byoYomiTime = 0.0

# If using time controls, how many seconds per move to allocate on average.
# Will try to leave at least byoYomiTime remaining.
# timePerMove = 1.0

# If using time controls, how much to scale time allocation based on the
# estimated number of moves remaining in the game.
# timeMaxOvertime = 10.0

# If using time controls, how much to prefer using time earlier in the game.
# timeOvertime = 0.0

# ===========================================================================
# Other settings
# ===========================================================================
# If true, KataGo will try to predict when the game will end and adjust its
# play accordingly. This can help in endgame situations.
# enableEndgameOptimization = true

# If true, KataGo will try to predict when the game will end and adjust its
# play accordingly during analysis. This does NOT affect play.
# enableEndgameOptimizationAnalysis = true

# If true, KataGo will try to use symmetry to reduce computation. This can
# help performance but may slightly reduce accuracy.
# enableSymmetries = true

# If true, KataGo will try to use symmetry to reduce computation during analysis.
# This does NOT affect play.
# enableSymmetriesAnalysis = true

# If true, KataGo will try to use root noise to encourage exploration. This
# can help in positions where KataGo is uncertain.
# rootNoiseEnabled = true

# How much root noise to apply. Higher values encourage more exploration.
# rootPolicyTemperature = 1.0
# rootPolicyTemperatureEarly = 1.3
# rootPolicyTemperatureEarlyMove = 30

# If true, KataGo will try to use policy temperature to encourage exploration.
# This can help in positions where KataGo is uncertain.
# policyTemperature = 1.0

# How much policy temperature to apply. Higher values encourage more exploration.
# policyTemperatureEarly = 1.3
# policyTemperatureEarlyMove = 30

# If true, KataGo will try to use value temperature to encourage exploration.
# This can help in positions where KataGo is uncertain.
# valueTemperature = 0.0

# How much value temperature to apply. Higher values encourage more exploration.
# valueTemperatureEarly = 0.0
# valueTemperatureEarlyMove = 30

# If true, KataGo will try to use visit temperature to encourage exploration.
# This can help in positions where KataGo is uncertain.
# visitTemperature = 0.0

# How much visit temperature to apply. Higher values encourage more exploration.
# visitTemperatureEarly = 0.0
# visitTemperatureEarlyMove = 30

# If true, KataGo will try to use score temperature to encourage exploration.
# This can help in positions where KataGo is uncertain.
# scoreTemperature = 0.0

# How much score temperature to apply. Higher values encourage more exploration.
# scoreTemperatureEarly = 0.0
# scoreTemperatureEarlyMove = 30

# If true, KataGo will try to use winrate temperature to encourage exploration.
# This can help in positions where KataGo is uncertain.
# winrateTemperature = 0.0

# How much winrate temperature to apply. Higher values encourage more exploration.
# winrateTemperatureEarly = 0.0
# winrateTemperatureEarlyMove = 30

# If true, KataGo will try to use policy prior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# policyPrior = 1.0

# How much policy prior to apply. Higher values encourage more exploration.
# policyPriorEarly = 1.0
# policyPriorEarlyMove = 30

# If true, KataGo will try to use value prior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# valuePrior = 0.0

# How much value prior to apply. Higher values encourage more exploration.
# valuePriorEarly = 0.0
# valuePriorEarlyMove = 30

# If true, KataGo will try to use visit prior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# visitPrior = 0.0

# How much visit prior to apply. Higher values encourage more exploration.
# visitPriorEarly = 0.0
# visitPriorEarlyMove = 30

# If true, KataGo will try to use score prior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# scorePrior = 0.0

# How much score prior to apply. Higher values encourage more exploration.
# scorePriorEarly = 0.0
# scorePriorEarlyMove = 30

# If true, KataGo will try to use winrate prior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# winratePrior = 0.0

# How much winrate prior to apply. Higher values encourage more exploration.
# winratePriorEarly = 0.0
# winratePriorEarlyMove = 30

# If true, KataGo will try to use policy posterior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# policyPosterior = 1.0

# How much policy posterior to apply. Higher values encourage more exploration.
# policyPosteriorEarly = 1.0
# policyPosteriorEarlyMove = 30

# If true, KataGo will try to use value posterior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# valuePosterior = 0.0

# How much value posterior to apply. Higher values encourage more exploration.
# valuePosteriorEarly = 0.0
# valuePosteriorEarlyMove = 30

# If true, KataGo will try to use visit posterior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# visitPosterior = 0.0

# How much visit posterior to apply. Higher values encourage more exploration.
# visitPosteriorEarly = 0.0
# visitPosteriorEarlyMove = 30

# If true, KataGo will try to use score posterior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# scorePosterior = 0.0

# How much score posterior to apply. Higher values encourage more exploration.
# scorePosteriorEarly = 0.0
# scorePosteriorEarlyMove = 30

# If true, KataGo will try to use winrate posterior to encourage exploration.
# This can help in positions where KataGo is uncertain.
# winratePosterior = 0.0

# How much winrate posterior to apply. Higher values encourage more exploration.
# winratePosteriorEarly = 0.0
# winratePosteriorEarlyMove = 30
